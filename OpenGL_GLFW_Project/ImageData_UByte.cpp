//
// File:                               ImageData_UByte.cpp
//
// Implementation File for the class ImageData_UByte.
// Forrest Miller
// July 23-27, 2019

//                            SECTION [0]
///////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//        //       //      File Description Preamble      //       //        //
///////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
//  This file contains a fairly complex implementation
//  to a complicated class. It may prove helpful to
//  know that the layout of this source file is broken
//  down into these following sections:
//                                                                             
// SECTION                     TITLE                                           
//                                                                             
//  [0]                File Description Preamble               [You Are Here]  
//                                                                             
//  [1]      Ordinary Include Statements/Constants/Macros                      
//                                                                             
//  [2]             Configure and Include 'stb_image'                           
//                                                                             
//  [3]    Function Prototypes For Internal Utility Functions                  
//                                                                             
//  [4]                  class ImageDataImpl                                   
//                                                                             
//  [5]   Implementation of Functions For class ImageData_UByte                
//                                                                             
//  [6]   Implementation of the Internal Utility Functions Declared in [3]    
//                                                                             
//                               [END]                                         


//-----------------------------------------------------------------------------


//                            SECTION [1]
///////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//      //       Ordinary Include Statements/Constants/Macros       //       //
///////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

#include "ImageData_UByte.h"
#include <fstream>

typedef ImageData_UByte::ImageAttributes ImgAttrib;

//                            SECTION [2]
///////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//      //       //    Configure and Include 'stb_image'    //       //      //
///////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////





//                            SECTION [3]
///////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//    //      Function Prototypes For Internal Utility Functions       //    //
///////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

//Checks to see if the specified GLenum refers to a valid 
//internal texture data storage format type. Returns true if
//internalFormat is an actual internal format, and false otherwise.
bool verifyIsInternalFormat(GLenum internalFormat) noexcept;

//Not every InternalFormat will make sense based off the image's attributes.
//For example a GL_R8 internal format doesn't make sense if the number of 
//components per pixel is not 1. This function returns true if the specified
//internalFormat makes sense with respect to the provided image attributes, 
//and false if there is a mismatch between them
bool verifyInternalFormatMatchesImageAttributes(GLenum internalFormat,
    ImgAttrib attributes) noexcept;


//                            SECTION [4]
///////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//        //       //         class ImageDataImpl         //       //        //
///////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////




//                            SECTION [6]
///////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//      Implementation of the Internal Utility Functions Declared in [3]     //
///////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////